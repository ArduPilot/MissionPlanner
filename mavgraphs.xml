<graphs>
  <graph name="Speed/Ground vs Air Speed">
    <expression>VFR_HUD.groundspeed VFR_HUD.airspeed</expression>
    <expression>GPS.Spd ARSP.Airspeed</expression>
    <description>
      This shows the ground speed of the vehicle versus its air speed
    </description>
  </graph>

  <graph name="Speed/Ground Speed">
    <expression>VFR_HUD.groundspeed</expression>
    <expression>GPS.Spd</expression>
    <description>
      This shows the ground speed of the vehicle
    </description>
  </graph>

  <graph name='Attitude/Roll and Pitch'>
    <description>Roll and Pitch</description>
    <expression>degrees(ATTITUDE.roll) degrees(ATTITUDE.pitch)</expression>
    <expression>ATT.Roll ATT.Pitch</expression>
  </graph>

  <graph name='Attitude/RP Comparison'>
    <description>Roll and pitch comparison between primary and secondary attitude estimator</description>
    <expression>degrees(ATTITUDE.roll) degrees(ATTITUDE.pitch) degrees(AHRS2.roll) degrees(AHRS2.pitch)</expression>
    <expression>ATT.Roll ATT.Pitch AHR2.Roll AHR2.Pitch</expression>
  </graph>

  <graph name='Attitude/Attitude Control'>
    <description>Desired versus achieved roll and pitch. This shows you how well the attitude controller are for your aircraft. In a well tuned aircraft the desired and achieved roll and pitch should match to within a couple of degrees for any portion of the flight where stabilisation is enabled.</description>
    <expression>NAV_CONTROLLER_OUTPUT.nav_roll NAV_CONTROLLER_OUTPUT.nav_pitch degrees(ATTITUDE.roll) degrees(ATTITUDE.pitch)</expression>
    <expression>ATT.DesRoll ATT.Roll ATT.DesPitch ATT.Pitch</expression>
    <expression>CTUN.NavRoll CTUN.Roll CTUN.NavPitch CTUN.Pitch</expression>
  </graph>

  <graph name='Sensors/Accelerometer/Accelerometers'>
    <description>Accelerometer Output</description>
    <expression>RAW_IMU.xacc*9.81*0.001 RAW_IMU.yacc*9.81*0.001 RAW_IMU.zacc*9.81*0.001 gravity(RAW_IMU)</expression>
    <expression>IMU.AccX IMU.AccY IMU.AccZ sqrt(IMU.AccX**2+IMU.AccY**2+IMU.AccZ**2)</expression>
  </graph>

  <graph name='Sensors/Accelerometer/Accelerometer(2)'>
    <description>Accelerometer Two Output</description>
    <expression>SCALED_IMU2.xacc*9.81*0.001 SCALED_IMU2.yacc*9.81*0.001 SCALED_IMU2.zacc*9.81*0.001</expression>
    <expression>IMU2.AccX IMU2.AccY IMU2.AccZ sqrt(IMU2.AccX**2+IMU2.AccY**2+IMU2.AccZ**2)</expression>
  </graph>

  <graph name='Sensors/Accelerometer/Accelerometer(3)'>
    <description>Accelerometer Three Output</description>
    <expression>SCALED_IMU3.xacc*9.81*0.001 SCALED_IMU3.yacc*9.81*0.001 SCALED_IMU3.zacc*9.81*0.001</expression>
    <expression>IMU3.AccX IMU3.AccY IMU3.AccZ sqrt(IMU3.AccX**2+IMU3.AccY**2+IMU3.AccZ**2)</expression>
  </graph>

  <graph name='Sensors/Accelerometer/Accelerometer Comparison'>
    <description>Accelerometer Comparison</description>
    <expression>
      RAW_IMU.xacc*9.81*0.001 RAW_IMU.yacc*9.81*0.001 RAW_IMU.zacc*9.81*0.001
      SCALED_IMU2.xacc*9.81*0.001 SCALED_IMU2.yacc*9.81*0.001 SCALED_IMU2.zacc*9.81*0.001
      SCALED_IMU3.xacc*9.81*0.001 SCALED_IMU3.yacc*9.81*0.001 SCALED_IMU3.zacc*9.81*0.001
    </expression>
    <expression>
      RAW_IMU.xacc*9.81*0.001 RAW_IMU.yacc*9.81*0.001 RAW_IMU.zacc*9.81*0.001
      SCALED_IMU2.xacc*9.81*0.001 SCALED_IMU2.yacc*9.81*0.001 SCALED_IMU2.zacc*9.81*0.001
    </expression>
    <expression>IMU.AccX IMU.AccY IMU.AccZ IMU2.AccX IMU2.AccY IMU2.AccZ IMU3.AccX IMU3.AccY IMU3.AccZ</expression>
    <expression>IMU.AccX IMU.AccY IMU.AccZ IMU2.AccX IMU2.AccY IMU2.AccZ</expression>
  </graph>

  <graph name='Sensors/Gyroscope/Gyros'>
    <description>Gyroscope Output</description>
    <expression>degrees(RAW_IMU.xgyro*0.001) degrees(RAW_IMU.ygyro*0.001) degrees(RAW_IMU.zgyro*0.001)</expression>
    <expression>IMU.GyrX IMU.GyrY IMU.GyrZ</expression>
  </graph>

  <graph name='Sensors/Gyroscope/Gyros(2)'>
    <description>Gyroscope Two Output</description>
    <expression>degrees(SCALED_IMU2.xgyro*0.001) degrees(SCALED_IMU2.ygyro*0.001) degrees(SCALED_IMU2.zgyro*0.001)</expression>
    <expression>IMU2.GyrX IMU2.GyrY IMU2.GyrZ</expression>
  </graph>

  <graph name='Sensors/Gyroscope/Gyros(3)'>
    <description>Gyroscope Three Output</description>
    <expression>degrees(SCALED_IMU3.xgyro*0.001) degrees(SCALED_IMU3.ygyro*0.001) degrees(SCALED_IMU3.zgyro*0.001)</expression>
    <expression>IMU3.GyrX IMU3.GyrY IMU3.GyrZ</expression>
  </graph>

  <graph name='Sensors/Gyroscope/Gyro Comparison'>
    <description>Gyroscope Comparison</description>
    <expression>
      degrees(RAW_IMU.xgyro*0.001) degrees(RAW_IMU.ygyro*0.001) degrees(RAW_IMU.zgyro*0.001)
      degrees(SCALED_IMU2.xgyro*0.001) degrees(SCALED_IMU2.ygyro*0.001) degrees(SCALED_IMU2.zgyro*0.001)
      degrees(SCALED_IMU3.xgyro*0.001) degrees(SCALED_IMU3.ygyro*0.001) degrees(SCALED_IMU3.zgyro*0.001)
    </expression>
    <expression>
      degrees(RAW_IMU.xgyro*0.001) degrees(RAW_IMU.ygyro*0.001) degrees(RAW_IMU.zgyro*0.001)
      degrees(SCALED_IMU2.xgyro*0.001) degrees(SCALED_IMU2.ygyro*0.001) degrees(SCALED_IMU2.zgyro*0.001)
    </expression>
    <expression>
      IMU.GyrX IMU.GyrY IMU.GyrZ
      IMU2.GyrX IMU2.GyrY IMU2.GyrZ
      IMU3.GyrX IMU3.GyrY IMU3.GyrZ
    </expression>
    <expression>
      IMU.GyrX IMU.GyrY IMU.GyrZ
      IMU2.GyrX IMU2.GyrY IMU2.GyrZ
    </expression>
  </graph>

  <graph name='Sensors/Barometer/Barometer'>
    <description>Barometer</description>
    <expression>altitude(SCALED_PRESSURE) SCALED_PRESSURE.temperature*0.01:2</expression>
    <expression>BARO.Alt BARO.Temp:2</expression>
  </graph>

  <graph name='Sensors/Barometer/Barometer(2)'>
    <description>Barometric Altitude</description>
    <expression>altitude(SCALED_PRESSURE2) SCALED_PRESSURE2.temperature*0.01:2</expression>
    <expression>BAR2.Alt BAR2.Temp:2</expression>
  </graph>

  <graph name='Sensors/Barometer/Barometer(3)'>
    <description>Barometric Altitude</description>
    <expression>altitude(SCALED_PRESSURE3) SCALED_PRESSURE3.temperature*0.01:2</expression>
    <expression>BAR3.Alt BAR3.Temp:2</expression>
  </graph>

  <graph name='Sensors/Barometer/Barometer Comparison'>
    <description>Barometer Comparison</description>
    <expression>
      altitude(SCALED_PRESSURE) SCALED_PRESSURE.temperature*0.01:2
      altitude(SCALED_PRESSURE2) SCALED_PRESSURE2.temperature*0.01:2
      altitude(SCALED_PRESSURE3) SCALED_PRESSURE3.temperature*0.01:2
    </expression>
    <expression>
      altitude(SCALED_PRESSURE) SCALED_PRESSURE.temperature*0.01:2
      altitude(SCALED_PRESSURE2) SCALED_PRESSURE2.temperature*0.01:2
    </expression>
    <expression>
      BARO.Alt BARO.Temp:2
      BAR2.Alt BAR2.Temp:2
      BAR3.Alt BAR3.Temp:2
    </expression>
    <expression>
      BARO.Alt BARO.Temp:2
      BAR2.Alt BAR2.Temp:2
    </expression>
  </graph>

  <graph name='Sensors/Barometer/Barometric Pressure'>
    <description>Barometric Pressure</description>
    <expression>SCALED_PRESSURE.press_abs</expression>
    <expression>BARO.Press</expression>
  </graph>

  <graph name='Sensors/Compass/Compass'>
    <description>Primary Compass</description>
    <expression>RAW_IMU.xmag RAW_IMU.ymag RAW_IMU.zmag mag_field(RAW_IMU)</expression>
    <expression>MAG.MagX MAG.MagY MAG.MagZ sqrt(MAG.MagX**2+MAG.MagY**2+MAG.MagZ**2)</expression>
  </graph>

  <graph name='Sensors/Compass/Compass(2)'>
    <description>Second Compass</description>
    <expression>SCALED_IMU2.xmag SCALED_IMU2.ymag SCALED_IMU2.zmag mag_field(SCALED_IMU2)</expression>
    <expression>MAG2.MagX MAG2.MagY MAG2.MagZ sqrt(MAG2.MagX**2+MAG2.MagY**2+MAG2.MagZ**2)</expression>
  </graph>

  <graph name='Sensors/Compass/Compass(3)'>
    <description>Third Compass</description>
    <expression>SCALED_IMU3.xmag SCALED_IMU3.ymag SCALED_IMU3.zmag mag_field(SCALED_IMU2)</expression>
    <expression>MAG3.MagX MAG3.MagY MAG3.MagZ sqrt(MAG3.MagX**2+MAG3.MagY**2+MAG3.MagZ**2)</expression>
  </graph>

  <graph name='Sensors/Compass/Compass vs Yaw'>
    <description>Primary Compass vs Yaw</description>
    <expression>mag_heading(RAW_IMU,ATTITUDE) degrees(ATTITUDE.yaw)</expression>
    <expression>mag_heading_df(MAG,ATT) ATT.Yaw</expression>
  </graph>

  <graph name='Servos/Servos 1-4'>
    <description>First 4 servo outputs</description>
    <expression>
      SERVO_OUTPUT_RAW.servo1_raw SERVO_OUTPUT_RAW.servo2_raw SERVO_OUTPUT_RAW.servo3_raw SERVO_OUTPUT_RAW.servo4_raw
    </expression>
    <expression>
      RCOU.Ch1 RCOU.Ch2 RCOU.Ch3 RCOU.Ch4
    </expression>
  </graph>

  <graph name='Servos/Servos 1-8'>
    <description>First 8 servo outputs</description>
    <expression>
      SERVO_OUTPUT_RAW.servo1_raw SERVO_OUTPUT_RAW.servo2_raw SERVO_OUTPUT_RAW.servo3_raw SERVO_OUTPUT_RAW.servo4_raw
      SERVO_OUTPUT_RAW.servo5_raw SERVO_OUTPUT_RAW.servo6_raw SERVO_OUTPUT_RAW.servo7_raw SERVO_OUTPUT_RAW.servo8_raw
    </expression>
    <expression>
      RCOU.Ch1 RCOU.Ch2 RCOU.Ch3 RCOU.Ch4
      RCOU.Ch5 RCOU.Ch6 RCOU.Ch7 RCOU.Ch8
    </expression>
  </graph>

  <graph name='RC/RC Input 1-4'>
    <description>First 4 RC inputs</description>
    <expression>
      RC_CHANNELS_RAW.chan1_raw RC_CHANNELS_RAW.chan2_raw RC_CHANNELS_RAW.chan3_raw RC_CHANNELS_RAW.chan4_raw
    </expression>
    <expression>
      RCIN.C1 RCIN.C2 RCIN.C3 RCIN.C4
    </expression>
  </graph>

  <graph name='RC/RC Input 1-8'>
    <description>First 8 RC inputs</description>
    <expression>
      RC_CHANNELS_RAW.chan1_raw RC_CHANNELS_RAW.chan2_raw RC_CHANNELS_RAW.chan3_raw RC_CHANNELS_RAW.chan4_raw
      RC_CHANNELS_RAW.chan5_raw RC_CHANNELS_RAW.chan6_raw RC_CHANNELS_RAW.chan7_raw RC_CHANNELS_RAW.chan8_raw
    </expression>
    <expression>
      RCIN.C1 RCIN.C2 RCIN.C3 RCIN.C4
      RCIN.C5 RCIN.C6 RCIN.C7 RCIN.C8
    </expression>
  </graph>

  <graph name='Sensors/Lidar/Rangefinder vs Baro'>
    <description>Rangefinders vs Barometric Altitude</description>
    <expression>BARO.Alt RFND.Dist1 RFND.Dist2</expression>
  </graph>

  <graph name='Plane/PID Tuning/Pitch Controller'>
    <description>
      This shows how well the pitch controller is tracking the desired pitch rate.
      For a well tuned aircraft PIDP.Des should match the smoothed IMU.GyrY value.
      If PIDP.I has a constant positive value then it means the aircraft is a bit tail heavy, and the integrator is learning the elevator offset needed to keep the aircraft level. If PIDP.I has a constant negative value then the aircraft is a bit nose heavy.
      You should also check PIDP.D and look for signs of oscillation, in which case PTCH2SRV_D is too high.
    </description>
    <expression>PIDP.Des PIDP.P PIDP.I PIDP.D lowpass(degrees(IMU.GyrY),"gy",0.9)</expression>
  </graph>

  <graph name='Plane/PID Tuning/Roll Controller'>
    <description>
      This shows how well the roll controller is tracking the desired roll rate.
      For a well tuned aircraft PIDR.Des should match the smoothed IMU.GyrX value.
      If PIDR.I has a constant positive value then it means the aircraft is trimmed to roll to the left side, and the integrator is learning the aileron offset needed to keep the aircraft level. If PIDR.I has a constant negative value then the aircraft is trimmed a bit to the right.
    </description>
    <expression>PIDR.Des PIDR.P PIDR.I PIDR.D lowpass(degrees(IMU.GyrX),"gx",0.9)</expression>
  </graph>

  <graph name='EKF/Normalised GPS Innovations'>
    <description>Normalised GPS Innovations</description>
    <expression>EKF4.SV EKF4.SP NKF4.SV NKF4.SP</expression>
    <expression>EKF4.SV EKF4.SP</expression>
  </graph>

  <graph name='EKF/Normalised GPS Innovations - EKF1'>
    <description>Normalised GPS Innovations - EKF1</description>
    <expression>EKF4.SV EKF4.SP</expression>
  </graph>

  <graph name='EKF/Normalised GPS Innovations - EKF2'>
    <description>Normalised GPS Innovations - EKF2</description>
    <expression>NKF4.SV NKF4.SP</expression>
  </graph>

  <graph name='EKF/Normalised Altimeter Innovations'>
    <description>Normalised Altimeter Innovations</description>
    <expression>EKF4.SH NKF4.SH</expression>
    <expression>EKF4.SH</expression>
  </graph>

  <graph name='EKF/Normalised Airspeed Innovations'>
    <description>Normalised Airspeed Innovations</description>
    <expression>EKF4.SVT NKF4.SVT</expression>
    <expression>EKF4.SVT</expression>
  </graph>

  <graph name='EKF/Normalised Magnetometer Innovations'>
    <description>Normalised Magnetometer Innovations</description>
    <expression>EKF4.SMX EKF4.SMY EKF4.SMZ NKF4.SMX NKF4.SMY EKF4.SMZ</expression>
    <expression>EKF4.SMX EKF4.SMY EKF4.SMZ</expression>
  </graph>

  <graph name='EKF/Normalised Magnetometer Innovations - EKF1'>
    <description>Normalised Magnetometer Innovations - EKF1</description>
    <expression>EKF4.SMX EKF4.SMY EKF4.SMZ</expression>
  </graph>

  <graph name='EKF/Normalised Magnetometer Innovations - EKF2'>
    <description>Normalised Magnetometer Innovations - EKF2</description>
    <expression>NKF4.SMX NKF4.SMY NKF4.SMZ</expression>
  </graph>

  <graph name='EKF/Airspeed Innovation'>
    <description>Airspeed Innovation</description>
    <expression>EKF3.IVT NKF3.IVT </expression>
    <expression>EKF3.IVT</expression>
  </graph>

  <graph name='EKF/Velocity NED'>
    <description>Velocity NED</description>
    <expression>EKF1.VN EKF1.VE EKF1.VD NKF1.VN NKF1.VE NKF1.VD </expression>
    <expression>EKF1.VN EKF1.VE EKF1.VD</expression>
  </graph>

  <graph name='EKF/Position NE'>
    <description>Velocity NE</description>
    <expression>EKF1.PN EKF1.PE NKF1.PN NKF1.PE</expression>
    <expression>EKF1.PN EKF1.PE</expression>
  </graph>

  <graph name='EKF/Height'>
    <description>Height</description>
    <expression>EKF1.PD*-1 BARO.Alt GPS.RAlt NKF1.PD*-1</expression>
    <expression>EKF1.PD*-1 BARO.Alt GPS.RAlt</expression>
  </graph>

  <graph name='EKF/Euler Roll and Pitch'>
    <description>Roll and Pitch</description>
    <expression>EKF1.Roll EKF1.Pitch AHR2.Roll AHR2.Pitch NKF1.Roll NKF1.Pitch </expression>
    <expression>EKF1.Roll EKF1.Pitch AHR2.Roll AHR2.Pitch</expression>
  </graph>

  <graph name='EKF/Euler Roll'>
    <description>Euler Roll</description>
    <expression>EKF1.Roll AHR2.Roll NKF1.Roll</expression>
    <expression>EKF1.Roll AHR2.Roll</expression>
  </graph>

  <graph name='EKF/Euler Pitch'>
    <description>Euler Pitch</description>
    <expression> EKF1.Pitch AHR2.Pitch NKF1.Pitch </expression>
    <expression>EKF1.Pitch AHR2.Pitch</expression>
  </graph>

  <graph name='EKF/Euler Yaw'>
    <description>Euler Yaw</description>
    <expression>EKF1.Yaw AHR2.Yaw NKF1.Yaw </expression>
    <expression>EKF1.Yaw AHR2.Yaw</expression>
  </graph>

  <graph name='EKF/Velocity Innovations'>
    <description>Velocity Innovations</description>
    <expression>EKF3.IVN EKF3.IVE EKF3.IVD NKF3.IVN NKF3.IVE NKF3.IVD</expression>
    <expression>EKF3.IVN EKF3.IVE EKF3.IVD</expression>
  </graph>

  <graph name='EKF/Position Innovations'>
    <description>Position Innovations</description>
    <expression>EKF3.IPN EKF3.IPE NKF3.IPN NKF3.IPE</expression>
    <expression>EKF3.IPN EKF3.IPE</expression>
  </graph>

  <graph name='EKF/Height Innovations'>
    <description>Height Innovations</description>
    <expression>EKF3.IPD NKF3.IPD</expression>
    <expression>EKF3.IPD</expression>
  </graph>

  <graph name='EKF/Magnetometer Innovations'>
    <description>Magnetometer Innovations</description>
    <expression>EKF3.IMX EKF3.IMY EKF3.IMZ NKF3.IMX NKF3.IMY NKF3.IMZ NKF3.IYAW:2</expression>
    <expression>EKF3.IMX EKF3.IMY EKF3.IMZ</expression>
  </graph>

  <graph name='EKF/Magnetometer Innovation X'>
    <description>Magnetometer Innovation X</description>
    <expression>EKF3.IMX NKF3.IMX</expression>
    <expression>EKF3.IMX</expression>
  </graph>

  <graph name='EKF/Magnetometer Innovation Y'>
    <description>Magnetometer Innovation Y</description>
    <expression>EKF3.IMY NKF3.IMY</expression>
    <expression>EKF3.IMY</expression>
  </graph>

  <graph name='EKF/Magnetometer Innovation Z'>
    <description>Magnetometer Innovation Z</description>
    <expression>EKF3.IMZ NKF3.IMZ</expression>
    <expression>EKF3.IMZ</expression>
  </graph>

  <graph name='EKF/Magnetometer Innovations - EKF1'>
    <description>Magnetometer Innovations - EKF1</description>
    <expression>EKF3.IMX EKF3.IMY EKF3.IMZ</expression>
  </graph>

  <graph name='EKF/Magnetometer Innovations - EKF2'>
    <description>Magnetometer Innovations - EKF2</description>
    <expression>NKF3.IMX NKF3.IMY NKF3.IMZ NKF3.IYAW:2</expression>
  </graph>

  <graph name='EKF/Magnetometer Body Field'>
    <description>Magnetometer Body Field</description>
    <expression>EKF2.MX EKF2.MY EKF2.MZ NKF2.MX NKF2.MY NKF2.MZ </expression>
    <expression>EKF2.MX EKF2.MY EKF2.MZ</expression>
  </graph>

  <graph name='EKF/Magnetometer Earth Field'>
    <description>Magnetometer Earth Field</description>
    <expression>EKF2.MN EKF2.ME EKF2.MD NKF2.MN NKF2.ME NKF2.MD</expression>
    <expression>EKF2.MN EKF2.ME EKF2.MD</expression>
  </graph>

  <graph name='EKF/Magnetic Declination'>
    <description>Magnetic Declination</description>
    <expression>degrees(atan2(EKF2.ME,EKF2.MN)) degrees(atan2(NKF2.ME,NKF2.MN))</expression>
    <expression>degrees(atan2(EKF2.ME,EKF2.MN))</expression>
  </graph>

  <graph name='EKF/Gyro Bias'>
    <description>Gyro Bias</description>
    <expression>EKF1.GX EKF1.GY EKF1.GZ NKF1.GX NKF1.GY NKF1.GZ</expression>
    <expression>EKF1.GX EKF1.GY EKF1.GZ</expression>
  </graph>

  <graph name='EKF/Gyro Scale Factor'>
    <description>Gyro Scale Factor</description>
    <expression>NKF2.GSX NKF2.GSY NKF2.GSZ</expression>
  </graph>

  <graph name='EKF/Wind Velocity NE'>
    <description>Wind Velocity NE</description>
    <expression>EKF2.VWN EKF2.VWE NKF2.VWN NKF2.VWE</expression>
    <expression>EKF2.VWN EKF2.VWE</expression>
  </graph>

  <graph name='EKF/Wind Speed and Direction'>
    <description>Wind Velocity NE</description>
    <expression>sqrt(EKF2.VWN**2+EKF2.VWE**2) wrap_360(degrees(atan2(-EKF2.VWE,-EKF2.VWN))):2 sqrt(NKF2.VWN**2+NKF2.VWE**2) wrap_360(degrees(atan2(-NKF2.VWE,-NKF2.VWN))):2</expression>
    <expression>sqrt(EKF2.VWN**2+EKF2.VWE**2) wrap_360(degrees(atan2(-EKF2.VWE,-EKF2.VWN))):2</expression>
  </graph>

  <graph name='EKF/Accel Bias'>
    <description>Accel Bias</description>
    <expression>EKF2.AZ1bias EKF2.AZ2bias EKF2.Ratio:2 NKF2.AZbias </expression>
    <expression>EKF2.AZ1bias EKF2.AZ2bias EKF2.Ratio:2</expression>
  </graph>


</graphs>